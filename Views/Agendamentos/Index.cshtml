@model IEnumerable<Agendamento>
@{
    ViewData["Title"] = "Agendamentos";
    var ativos = Model.Where(a => a.Status != StatusServico.Entregue).ToList();
    var historico = Model.Where(a => a.Status == StatusServico.Entregue).ToList();
}

<div class="d-flex justify-content-between align-items-center mb-3">
    <h2>Agendamentos</h2>
    <a class="btn btn-primary" asp-action="Create">Novo agendamento</a>
</div>

<ul class="nav nav-tabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="tab-ativos" data-bs-toggle="tab" data-bs-target="#pane-ativos" type="button" role="tab">Ativos</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="tab-historico" data-bs-toggle="tab" data-bs-target="#pane-historico" type="button" role="tab">Histórico (entregues)</button>
    </li>
</ul>

<div class="tab-content pt-3">
    <div class="tab-pane fade show active" id="pane-ativos" role="tabpanel" aria-labelledby="tab-ativos">
        @await Html.PartialAsync("_AgendamentosTabela", ativos)
    </div>
    <div class="tab-pane fade" id="pane-historico" role="tabpanel" aria-labelledby="tab-historico">
        @await Html.PartialAsync("_AgendamentosTabela", historico)
    </div>
</div>
